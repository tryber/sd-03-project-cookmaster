<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cookmaster - <%=recipe.name%></title>
  </head>
  <body>
    <header>
      <h1>Cookmaster!</h1>
      <%if (!isAuth) {%>
        <button
          type="button"
          data-testid="login"
          onclick="window.location.pathname='/login'"
        >
          Login
        </button>
      <%} else {%>
        <p><%=user.name%></p>
        <button
          type="button"
          data-testid="logout"
          onclick="window.location.pathname='/logout'"
        >
          Logout
        </button>
        <%if (user.id === recipe.userId) {%>
          <button
            type="button"
            data-testid="editar-receita"
            onclick=<%=`window.location.pathname=recipes/${recipe.id}/edit`%>
          >
            Editar Receita
          </button>
          <button
            type="button"
            data-testid="excluir-receita"
          >
            Excluir Receita
          </button>
        <%};%>
      <%};%>
    </header>
    <article class="receitas">
      <h2><%=recipe.name%></h2>
      <h3><%=recipe.user%></h3>
      <h2>Ingredientes</h2>
      <ul>
        <%recipe.ingredients.map((ingredient) => {%>
          <li><%=ingredient%></li>
        <%})%>
      </ul>
      <h2>Modo de preparo</h2>
      <p><%=recipe.instructions%></p>
    </article>
  </body>
</html>
